<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Network Money</title>
    <meta name="description" content="Network Money">
    <link rel="author" href="https://michielbdejong.com/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="bulma.min.css">
    <script defer src="fontawesome.min.js"></script>
  </head>
  <body>
     <nav class="navbar is-link is-bold" role="navigation" aria-label="main navigation">
       <div class="navbar-brand">
         <a class="navbar-item" href="#">
           <img src="https://wiebetaaltwat.nl/assets/img/logo.png" width="112" height="28">
         </a>
         <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
           <span aria-hidden="true"></span>
           <span aria-hidden="true"></span>
           <span aria-hidden="true"></span>
         </a>
       </div>
       <div id="navbarBasicExample" class="navbar-menu">
         <div class="navbar-start">
           <a class="navbar-item">
             Mijn lijsten
           </a>
        </div>
      </div>
      <div class="navbar-end">
        <div class="navbar-item">
          <div class="buttons">
            <a class="button is-primary">
              <strong>Connect RemoteStorage</strong>
            </a>
          </div>
        </div>
      </div>
    </div>
  </nav>
  <section class="hero is-dark is-bold">
    <div class="container">
      <h1 class="title">
        test
      </h1>
    </div>
  </section>

  <div class="tabs is-boxed is-primary">
    <ul>
      <li class="is-active"><a>Uitgaven</a></li>
      <li><a>Balans</a></li>
      <li><a>Verrekenen</a></li>
      <li><a>&hellip;</a></li>
    </ul>
  </div>
  <section class="section">
    <div class="container">
      <a class="button is-success" id="newTrans">
        Nieuwe uitgave invoeren
      </a>
    </div>
  </section>
  <table  class="table">
    <thead>
      <tr>
        <th>Wie</th>
        <th>Omschrijving</th>
        <th>Bedrag</th>
        <th>Datum</th>
        <th>Deelnemers</th>
      </tr>
    </thead>
    <tbody id="trans-list">
    </tbody>
  </table>
  <script>
    listId =  window.location.hash.substring(1);
    const trans = JSON.parse(localStorage.getItem('list-'+listId));
    for (let i=0; i<trans.length; i++) {
      document.getElementById('trans-list').innerHTML += `<tr id="tr-${i}" onclick="select(${i});"> <td><img style="width:30px"  src="${trans[i].avatar}"> ${trans[i].name}</td> <td>${trans[i].description}</td> <td>${trans[i].amount}</td> <td>${trans[i].date}</td> <td>${trans[i].participants}</td> </tr>`;
    }
    function select(id) {
      window.location =  `trans.html#${listId}-${id}`;
    }
    document.getElementById('newTrans').onclick = function() { select('new'); };
  </script>
  </body>
</html>
